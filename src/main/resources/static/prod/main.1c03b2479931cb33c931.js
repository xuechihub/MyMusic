(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{164:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(165));!function(){var t=r(8).enterModule;t&&t(e)}();var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.REQUEST_MUSIC_LIST:return{isLoading:!0,list:[]};case i.REQUEST_MUSIC_LIST_SUCCESS:return{isLoading:!1,list:t.list};case i.REQUEST_MUSIC_LIST_FAILURE:return{isLoading:!1,list:[],error:t.error};default:return e}},s=(0,n.combineReducers)({MusicList:u});t.default=s,function(){var t=r(8).default,n=r(8).leaveModule;t&&(t.register(u,"MusicList","F:/code/MyMusic/src/main/resources/static/app/reducer/music.js"),t.register(s,"default","F:/code/MyMusic/src/main/resources/static/app/reducer/music.js"),n(e))}()}).call(this,r(40)(e))},165:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),function(){var t=r(8).enterModule;t&&t(e)}();var n=t.REQUEST_MUSIC_LIST="REQUEST_MUSIC_LIST",i=t.REQUEST_MUSIC_LIST_SUCCESS="REQUEST_MUSIC_LIST_SUCCESS",u=t.REQUEST_MUSIC_LIST_FAILURE="REQUEST_MUSIC_LIST_FAILURE";!function(){var t=r(8).default,s=r(8).leaveModule;t&&(t.register(n,"REQUEST_MUSIC_LIST","F:/code/MyMusic/src/main/resources/static/app/action/consts.js"),t.register(i,"REQUEST_MUSIC_LIST_SUCCESS","F:/code/MyMusic/src/main/resources/static/app/action/consts.js"),t.register(u,"REQUEST_MUSIC_LIST_FAILURE","F:/code/MyMusic/src/main/resources/static/app/action/consts.js"),s(e))}()}).call(this,r(40)(e))},390:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=function(e){return e&&e.__esModule?e:{default:e}}(r(164));!function(){var t=r(8).enterModule;t&&t(e)}();var u=(0,n.combineReducers)({Music:i.default});t.default=u,function(){var t=r(8).default,n=r(8).leaveModule;t&&(t.register(u,"default","F:/code/MyMusic/src/main/resources/static/app/reducer/index.js"),n(e))}()}).call(this,r(40)(e))},391:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=s(r(163)),u=s(r(390));function s(e){return e&&e.__esModule?e:{default:e}}!function(){var t=r(8).enterModule;t&&t(e)}();var c=function(e){return(0,n.createStore)(u.default,e,(0,n.applyMiddleware)(i.default))},o=c;t.default=o,function(){var t=r(8).default,n=r(8).leaveModule;t&&(t.register(c,"configureStore","F:/code/MyMusic/src/main/resources/static/app/store/configureStore.prod.js"),t.register(o,"default","F:/code/MyMusic/src/main/resources/static/app/store/configureStore.prod.js"),n(e))}()}).call(this,r(40)(e))},392:function(e,t,r){"use strict";e.exports=r(391)},393:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(r(2)),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},s=function(e){function t(){return i(this,t),u(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return n.Children.only(this.props.children)},t}(n.Component);t.AppContainer=s,t.hot=function(){return function(e){return e}},t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e}},395:function(e,t,r){"use strict";(function(e,t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};!function(){var t=r(8).enterModule;t&&t(e)}();var i=function(e,r){return t(""+e,n({method:"get",headers:{"Content-Type":"application/json"}},r)).catch(function(e){Promise.reject(e)}).then(function(e){return e.json()})};e.exports={service:i},function(){var t=r(8).default,n=r(8).leaveModule;t&&(t.register(i,"service","F:/code/MyMusic/src/main/resources/static/app/asset/utils.js"),n(e))}()}).call(this,r(40)(e),r(166))},396:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getMusicList=void 0;var n=r(395),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(165));!function(){var t=r(8).enterModule;t&&t(e)}();var u=function(){return{type:i.REQUEST_MUSIC_LIST}},s=function(e){return{type:i.REQUEST_MUSIC_LIST_SUCCESS,list:e}},c=function(e){return{type:i.REQUEST_MUSIC_LIST_FAILURE,error:e}},o=t.getMusicList=function(){return function(e){return e(u()),(0,n.service)("/rest/music/list").then(function(t){e(s(t))}).catch(function(t){e(c(t))})}};!function(){var t=r(8).default,n=r(8).leaveModule;t&&(t.register(u,"requestMusicList","F:/code/MyMusic/src/main/resources/static/app/action/index.js"),t.register(s,"requestMusicListSuccess","F:/code/MyMusic/src/main/resources/static/app/action/index.js"),t.register(c,"requestMusicListFailure","F:/code/MyMusic/src/main/resources/static/app/action/index.js"),t.register(o,"getMusicList","F:/code/MyMusic/src/main/resources/static/app/action/index.js"),n(e))}()}).call(this,r(40)(e))},397:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var u=typeof n;if("string"===u||"number"===u)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(i.apply(this,n));else if("object"===u)for(var s in n)r.call(n,s)&&n[s]&&e.push(this&&this[s]||s)}}return e.join(" ")}void 0!==e&&e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},398:function(module,exports,__webpack_require__){"use strict";(function(module,React){Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_react=__webpack_require__(2),_reactRedux=__webpack_require__(20),_bind=__webpack_require__(397),_bind2=_interopRequireDefault(_bind),_action=__webpack_require__(396),_music=__webpack_require__(164),_music2=_interopRequireDefault(_music),_App=__webpack_require__(418),_App2=_interopRequireDefault(_App);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(){var e=__webpack_require__(8).enterModule;e&&e(module)}();var cx=_bind2.default.bind(_App2.default),App=function(_Component){function App(){_classCallCheck(this,App);var e=_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).call(this));return e.setCurrentMusic=e.setCurrentMusic.bind(e),e.nextMusic=e.nextMusic.bind(e),e.state={currentMusic:{}},e}return _inherits(App,_Component),_createClass(App,[{key:"componentWillMount",value:function(){var e=this;this.props.getMusicList().then(function(){e.setState({currentMusic:_extends({},e.props.list[0],{index:0})})})}},{key:"setCurrentMusic",value:function(e,t){this.setState({currentMusic:_extends({},e,{index:t})}),this.refs.player.autoplay=!0}},{key:"nextMusic",value:function(){var e=this.props.list,t=this.state.currentMusic.index,r=t+1>e.length-1?0:t+1;this.setState({currentMusic:_extends({},e[r],{nextIndex:r})}),this.refs.player.autoplay=!0}},{key:"download",value:function(e,t){var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download",t),r.click()}},{key:"render",value:function(){var e=this,t=this.props.list,r=this.state.currentMusic;return r&&r.id?React.createElement("div",{className:_App2.default.app},React.createElement("audio",{ref:"player",className:_App2.default.audio,controls:!0,src:"/rest/music/player/"+r.id,type:"audio/mpeg",preload:"auto",onEnded:function(t){return e.nextMusic()}},"您的浏览器不支持 audio 元素。"),React.createElement("ul",{className:_App2.default.musicList},t.map(function(t,n){var i=t.name.split(".")[0];return React.createElement("li",{key:t.id,className:cx({currentMusic:r.id===t.id,musicItem:!0}),onClick:function(r){return e.setCurrentMusic(t)}},i)}))):null}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),App}(_react.Component),mapStateToProps=function(e,t){return{list:e.Music.MusicList.list?e.Music.MusicList.list:[]}},mapDispatchToProps=function(e,t){return{getMusicList:function(){return e((0,_action.getMusicList)())}}},_default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(App);exports.default=_default,function(){var e=__webpack_require__(8).default,t=__webpack_require__(8).leaveModule;e&&(e.register(cx,"cx","F:/code/MyMusic/src/main/resources/static/app/containers/App.js"),e.register(App,"App","F:/code/MyMusic/src/main/resources/static/app/containers/App.js"),e.register(mapStateToProps,"mapStateToProps","F:/code/MyMusic/src/main/resources/static/app/containers/App.js"),e.register(mapDispatchToProps,"mapDispatchToProps","F:/code/MyMusic/src/main/resources/static/app/containers/App.js"),e.register(_default,"default","F:/code/MyMusic/src/main/resources/static/app/containers/App.js"),t(module))}()}).call(this,__webpack_require__(40)(module),__webpack_require__(2))},399:function(e,t,r){"use strict";r.r(t);var n=r(92);r.d(t,"MemoryRouter",function(){return n.a});var i=r(91);r.d(t,"Prompt",function(){return i.a});var u=r(90);r.d(t,"Redirect",function(){return u.a});var s=r(66);r.d(t,"Route",function(){return s.a});var c=r(48);r.d(t,"Router",function(){return c.a});var o=r(89);r.d(t,"StaticRouter",function(){return o.a});var a=r(88);r.d(t,"Switch",function(){return a.a});var p=r(59);r.d(t,"generatePath",function(){return p.a});var l=r(47);r.d(t,"matchPath",function(){return l.a});var f=r(87);r.d(t,"withRouter",function(){return f.a})},400:function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(0)),u=r(20),s=r(399),c=o(r(398));function o(e){return e&&e.__esModule?e:{default:e}}!function(){var t=r(8).enterModule;t&&t(e)}();var a=function(e){var t=e.store;return n.createElement(u.Provider,{store:t},n.createElement("div",null,n.createElement(s.Route,{path:"/",component:c.default})))};a.propTypes={store:i.default.object.isRequired};var p=a;t.default=p,function(){var t=r(8).default,n=r(8).leaveModule;t&&(t.register(a,"Root","F:/code/MyMusic/src/main/resources/static/app/containers/Root.prod.js"),t.register(p,"default","F:/code/MyMusic/src/main/resources/static/app/containers/Root.prod.js"),n(e))}()}).call(this,r(40)(e),r(2))},401:function(e,t,r){"use strict";e.exports=r(400)},413:function(e,t,r){"use strict";(function(e,t){var n=r(167),i=r(128),u=c(r(401)),s=c(r(392));function c(e){return e&&e.__esModule?e:{default:e}}!function(){var t=r(8).enterModule;t&&t(e)}();var o=(0,s.default)();(0,n.render)(t.createElement(i.BrowserRouter,null,t.createElement(u.default,{store:o})),document.getElementById("root")),function(){var t=r(8).default,n=r(8).leaveModule;t&&(t.register(o,"store","F:/code/MyMusic/src/main/resources/static/app/index.js"),n(e))}()}).call(this,r(40)(e),r(2))},418:function(e,t){e.exports={app:"App__app--2kaLT",audio:"App__audio--smOn0",musicList:"App__musicList--3rlvF",musicItem:"App__musicItem--3o-_1",currentMusic:"App__currentMusic--3D9gi"}},8:function(e,t,r){"use strict";e.exports=r(393)}},[[413,0,1]]]);
//# sourceMappingURL=main.1c03b2479931cb33c931.js.map